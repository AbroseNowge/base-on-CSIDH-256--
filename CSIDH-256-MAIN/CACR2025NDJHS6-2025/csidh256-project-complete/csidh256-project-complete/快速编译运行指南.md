# 快速编译运行指南

## 问题：找不到 interactive_key_exchange.exe

**原因**：程序还没有编译，需要先编译才能运行。

## 解决方案

### 方法1：在MSYS2 MINGW64终端中编译（推荐）

1. **打开MSYS2 MINGW64终端**

2. **切换到项目目录**：
   ```bash
   cd /c/Users/20513/Desktop/CACR2025NDJHS6-2025end1/CACR2025NDJHS6-2025/csidh256-project-complete/csidh256-project-complete
   ```

3. **编译程序**：
   ```bash
   gcc -O3 -Wall -Isrc -o interactive_key_exchange.exe \
       interactive_key_exchange.c \
       src/fp256.c \
       src/edwards256.c \
       src/edwards256_action.c \
       src/mont_field.c \
       src/traditional_mul.c \
       src/param_validator.c \
       src/rng.c \
       -lm
   ```

   或者使用编译脚本：
   ```bash
   chmod +x compile_interactive.sh
   ./compile_interactive.sh
   ```

4. **运行程序**：
   ```bash
   ./interactive_key_exchange.exe
   ```

### 方法2：使用批处理文件（Windows PowerShell/CMD）

1. **在项目目录中运行**：
   ```cmd
   compile_interactive.bat
   ```

2. **然后运行**：
   ```cmd
   interactive_key_exchange.exe
   ```

## 编译命令详解

如果编译失败，请检查：

1. **GCC是否安装**：
   ```bash
   gcc --version
   ```

2. **所有源文件是否存在**：
   - `interactive_key_exchange.c` ✓
   - `src/fp256.c` ✓
   - `src/edwards256.c` ✓
   - `src/edwards256_action.c` ✓
   - `src/mont_field.c` ✓
   - `src/traditional_mul.c` ✓
   - `src/param_validator.c` ✓
   - `src/rng.c` ✓

3. **头文件路径**：确保使用 `-Isrc` 参数

## 常见编译错误

### 错误1：找不到头文件
```
fatal error: src/fp256.h: No such file or directory
```
**解决**：确保在正确的目录中编译（`csidh256-project-complete` 目录）

### 错误2：链接错误
```
undefined reference to `mont_mul'
```
**解决**：确保所有源文件都在编译命令中

### 错误3：Windows.h相关错误
如果遇到Windows.h相关错误，可能需要：
- 确保在MSYS2 MINGW64环境中编译（不是MSYS）
- 或者修改代码，使用跨平台的计时函数

## 验证编译成功

编译成功后，应该能看到：
```
编译成功！
运行程序: ./interactive_key_exchange.exe
```

并且目录中会出现 `interactive_key_exchange.exe` 文件。

## 下一步

编译成功后，运行程序：
```bash
./interactive_key_exchange.exe
```

然后选择菜单选项：
- **选项1**: 使用传统模乘运行完整密钥交换
- **选项2**: 使用Montgomery模乘运行完整密钥交换  
- **选项3**: 性能对比测试（推荐！）
- **选项4**: 显示算法说明

